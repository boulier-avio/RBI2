<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADF sur RBI - Radio Bear Indicator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.js"></script>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="container">
        <h1>Radio Bear Indicator (RBI)</h1>
        
        <div class="consigne">
            <h3>üìã Consigne :</h3>
            <p><strong>D√©termine la position de l'avion, son cap, le gisement ainsi que les rel√®vements QDR et QDM √† partir de l'instrument.</strong></p>
            <p><strong>N'oublie pas d'appuyer sur le bouton HDG du RBI</strong>, car il n'est pas asservi : le pilote doit r√©gler manuellement le cap affich√©.</p>
            
            <div class="astuce">
                <strong>Astuce :</strong><br>
                ‚Ä¢ Quand la rose est cal√©e sur le nord, la pointe de la fl√®che indique le gisement.<br>
                ‚Ä¢ Quand la rose est cal√©e sur le cap, la pointe de la fl√®che indique le QDM et l'arri√®re de la fl√®che indique le QDR.
            </div>
        </div>

        <div class="controls">
            <button id="randomQDRBtn">QDR Al√©atoire (1)</button>
            <button id="randomCapBtn">Cap Al√©atoire (2)</button>
            <button id="randomBothBtn">Les deux (3)</button>
            <button id="toggleReponseBtn">Afficher/Masquer R√©ponse</button>
            <button onclick="location.href='../index.html'">‚Üê Accueil</button>
        </div>

        <div class="jeu-reponse-row">
            <div id="rbiCanvas"></div>
            <div id="reponsesBox">
                <!-- Les r√©ponses s'affichent ici via JS -->
            </div>
        </div>

        <div class="help-buttons">
            <button id="showTermsBtn" class="helpBtn" type="button">‚ùì Explication des termes (GT, QDM, QDR, Cap)</button>
            <button id="showButtonsBtn" class="helpBtn" type="button">üîÑ Explication des boutons</button>
        </div>
        
        <!-- Modal pour les termes -->
        <div id="termsModal" class="modal">
            <div>
                <button class="closeBtn" aria-label="Fermer la fen√™tre d'aide">&times;</button>
                <h2 style="font-size:1.1em;margin-top:0;">Que signifient GT, QDM, QDR et Cap&nbsp;?</h2>
                <ul style="padding-left:16px;font-size:1em;line-height:1.5;">
                    <li><strong>GT&nbsp;:</strong> <em>Gisement transmis</em> par le RBI, angle entre le nez de l'avion et la direction de la balise.</li>
                    <li><strong>QDM&nbsp;:</strong> Cap magn√©tique √† suivre pour aller vers la balise depuis la position de l'avion.</li>
                    <li><strong>QDR&nbsp;:</strong> Rel√®vement magn√©tique de la balise, cap √† suivre pour s'√©loigner de la balise.</li>
                    <li><strong>Cap&nbsp;:</strong> Direction (en degr√©s) du nez de l'avion par rapport au nord magn√©tique.</li>
                </ul>
            </div>
        </div>
        
        <!-- Modal pour les boutons -->
        <div id="buttonsModal" class="modal">
            <div>
                <button class="closeBtn" aria-label="Fermer la fen√™tre d'aide">&times;</button>
                <h2 style="font-size:1.1em;margin-top:0;">√Ä quoi servent les boutons&nbsp;?</h2>
                <ul style="padding-left:16px;font-size:1em;line-height:1.5;">
                    <li><strong>QDR Al√©atoire (1)&nbsp;:</strong> Fait bouger l'avion autour de la balise NDB en changeant sa position.</li>
                    <li><strong>Cap Al√©atoire (2)&nbsp;:</strong> Change le cap (direction) de l'avion sans modifier sa position.</li>
                    <li><strong>Les deux (3)&nbsp;:</strong> Change √† la fois la position et le cap de l'avion.</li>
                    <li>Sur ordinateur cela fonctionne avec les touche 1, 2 et 3</li>
                    <li><strong>Afficher/Masquer R√©ponse&nbsp;:</strong> Montre ou cache les valeurs r√©elles (GT, QDM, QDR, Cap).</li>
                    <li><strong>Bouton HDG du RBI&nbsp;:</strong> Centre la rose sur le cap actuel de l'avion (clic au centre du RBI).</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="instructions">
        <p>Lyc√©e professionnel Roger Claustres - renaud.boulier@ac-clermont.fr</p>
    </div>

    <script src="../js/utils.js"></script>
    <script src="../js/rbi.js"></script>
</body>
</html>